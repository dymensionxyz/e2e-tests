# Test Handling Table

## ROLLAPP <-> HUB transfers

| No | Scenario | Pre-condition | Pre-condition check | Steps | Expected result | Expected result check | Covered By |
|----|----------|---------------|---------------------|-------|-----------------|-----------------------|------------|
| 1  | IBC transfer from rollapp to hub succeeds when rollapp has NO FINALIZED STATES AT ALL | At least 2 rollapps running, Rollapp A and B. Rollapp B (our rollapp) has no finalized state. Rollapp B has height > Rollapp A height. Rollapp B has a channel-id different from the hub-channel-id and **no finalized state**| ðŸ›‘ <br> (missing) || RollappPacket successfully created on the hub with pending status (can be checked by `dymd q delayedack packets-by-status pending`) | Partly solved <br> (lack query `packet commitment` left on the rollapp) | [TestDelayedAck_NoFinalizedStates_EVM](../tests/ibc_grace_period_test.go#604) [TestDelayedAck_NoFinalizedStates_Wasm](../tests/ibc_grace_period_test.go#869)|
| 2  | Rollapp token transfer should only be received on the hub upon rollapp finalized state (assume no eIBC packet, i.e no memo) | At least 2 rollapps running, Rollapp A and B. Rollapp B (our rollapp) is at finalized height < Rollapp A finalized height. Rollapp B has a channel-id different from the hub-channel-id. | ðŸ›‘ <br> (missing) || Rollapp tokens received on hub only after Rollapp B reaches finalized state. | Partly solved <br> (lack query `packet commitment` left on the rollapp) | [ibc_grace_period_test](../tests/ibc_grace_period_test.go) |
| 3  | DYM token transfer from hub to rollapp while relayer is down | - At least 2 rollapps running, Rollapp A and B - Rollapp B (our rollapp) is at finalized height < Rollapp A finalized height - Rollapp B (our rollapp) has a channel-id different than the hub-channel-id (i.e not both are channel-0)| ðŸ›‘ <br> (missing) | - Validate relayer is down - Send rollapp tokens from rollapp to hub - Restart the relayer | Transfer should be picked up and recieved in the rollapp | Partly solved <br> (lack query `packet commitment` left on the rollapp) | [TestDelayedAck_RelayerDown_EVM](../tests/ibc_grace_period_test.go#1134) [TestDelayedAck_RelayerDown_Wasm](../tests/ibc_grace_period_test.go#1415)|

