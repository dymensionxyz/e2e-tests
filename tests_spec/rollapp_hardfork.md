## Tests handle

| No | Scenario | Pre-condition | Pre-condition check | Expected result | Expected result check | Covered By |
|----|----------|---------------|---------------------|-----------------|-----------------------|------------|
| 1  | "Rollapp freeze - ability to freeze rollapp by submitting fraud proposal" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Fraud proposal submitted for a specific height</li> <li>proposal voted and passed</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 2  | "Rollapp freeze - canâ€™t send IBC transfers" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp.</li> <li>Send ibc-transfer from rollapp to hub and vice versa</li> </ul> | <ul> <li>No ability to send ibc transfers from rollapp â†” hub and vice versa</li> </ul> | ðŸ›‘ <br> (missing) |
| 3  | "Rollapp freeze - can't fulfill pending eIBC packets" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>Send ibc-transfer from rollapp to hub including memo</li> </ul> | <ul> <li>eIBC transfers are discarded and failed</li> <li>ibc demand order reverted</li> <li>inability to fulfill eIBC transfer</li> </ul> | ðŸ›‘ <br> (missing) |
| 4  | "Rollapp freeze - state is not progressing" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>Rollapp state is not progressing</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 5  | "Rollapp freeze - Sequencer slashed and jailed" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>Sequencer should be slashed with all the bond and jailed</li> <li>Inability to register a new sequencer</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 6  | "Rollapp freeze - other rollapps are functioning as usual" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>rollapp2 has eIBC pending packets</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>rollapp2 eibc packets are finalized as expected</li> <li>rollapp2 eibc packets can be fulfilled</li> <li>rollapp2 ibc transfers are being transferred as expected</li> <li>rollapp2 state is progressing as expected</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 7  | "Rollapp freeze - invariants are not broken" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>rollapp2 has eIBC pending packets</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>invariant broken for block-height-to-finalization-queue since it is unable to find finalization queues for reverted state infos</li> <li>it should skip checking frozen rollapps (PR submitted)</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 8  | "Rollapp freeze - pending acked ibc packet are rollbacked" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>Rollapp has eIBC pending packets</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>IBC transfer sent from hub to rollapp</li> <li>Send freeze gov proposal to rollapp</li> <li>Rollapp is frozen before ibc-transfer finalization</li> <li>timeout is triggered in delayedack once the rollapp is frozen and funds are sent back to sender</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 9  | "Rollapp freeze - pending on recv ibc packet are rollbacked" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>Rollapp has eIBC pending packets</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>IBC transfer sent from rollapp to hub</li> <li>Send freeze gov proposal to rollapp</li> <li>Rollapp is frozen before ibc-transfer finalization</li> <li>timeout is triggered in delayedack once the rollapp is frozen and no transfer is made after finalization</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 10 | "Rollapp freeze - pending timeout ibc packet are rollbacked" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>Rollapp has eIBC pending packets</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>IBC transfer sent from hub to rollapp with timeout set previous to freezing and finalization</li> <li>Send freeze gov proposal to rollapp</li> <li>Rollapp is frozen before ibc-transfer finalization</li> <li>timeout is triggered in delayedack once the rollapp is frozen and funds are sent back to sender</li> </ul> | ðŸ›‘ <br> (missing) | TODO |
| 11  | "Rollapp fork - Ability to create new rollapp with fork id using same rollappid increasing revision number" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>account with IBC balance on the hub</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>Register new rollapp with the same rollapp id but increasing revision number</li> <li>validate the genesis account fields are empty</li> </ul> | <ul> <li>new rollapp created on the hub using the fork rollapp id and with a new sequencer registered and bonded</li> </ul> | ðŸ›‘ <br> (missing) |
| 12  | "Rollapp fork - Ability to start new rollapp from previous height" | <ul> <li>Rollapp registered with a sequencer</li> <li>rollapp has IBC connection to hub</li> <li>previous ibc transfers were successful</li> <li>some eIBC packets are in the pending queue</li> <li>Rollapp have max sequencers = 1</li> <li>account with IBC balance on the hub</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>Send freeze gov proposal to rollapp</li> <li>Register new rollapp with the same rollapp id but increasing revision number</li> <li>export genesis with last finalized height</li> <li>start rollapp with exported genesis with rollappid updated</li> </ul> | <ul> <li>new state infos are submitted to the new rollapp and are getting finalized</li> </ul> | ðŸ›‘ <br> (missing) |
| 13  | "Rollapp fork - Ability to recover frozen ibc client on Hub" | <ul> <li>Rollapp registered with a sequencer</li> <li>Fraud proposal submitted and passed for specific height</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>create new ibc client for the new rollapp</li> <li>substitute frozen ibc client for the new one using gov proposal</li> <li>update relayer with fork rollapp info</li> </ul> | <ul> <li>rollapp ibc client on the hub should be in Active status</li> <li>relayer should be able to sync with ibc clients</li> </ul> | ðŸ›‘ <br> (missing) |
| 14  | "Rollapp fork - Ability to ibc-transfer after fork" | <ul> <li>Rollapp registered with a sequencer</li> <li>Fraud proposal submitted and passed for specific height</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>send ibc transfer from rollapp to hub and hub to rollapp, with and without eibc</li> </ul> | <ul> <li>ibc transfers with same channel should work as expected between hub â†” rollapp on the same channel as before</li> <li>balances on the rollapp should be as expected before hard fork</li> </ul> | ðŸ›‘ <br> (missing) |
| 15  | "Rollapp fork - Ability to recreate genesis event for the new rollapp" | <ul> <li>Rollapp registered with a sequencer</li> <li>Fraud proposal submitted and passed for specific height</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>send genesis-event to hub with the new rollapp id</li> </ul> | <ul> <li>genesis event should be accepted</li> <li>it should be possible to transfer genesis tokens from the hub</li> </ul> | ðŸ›‘ <br> (missing) |
| 16  | "Rollapp fork - Ability to ibc-transfer init-genesis tokens after fork back to rollapp" | <ul> <li>Rollapp registered with a sequencer</li> <li>Fraud proposal submitted and passed for specific height</li> </ul> | ðŸ›‘ <br> (missing) | <ul> <li>send rollapp tokens in ibc transfer from hub to rollapp from genesis account</li> </ul> | <ul> <li>rollapp tokens should be sent from hub to rollapp</li> </ul> | ðŸ›‘ <br> (missing) |